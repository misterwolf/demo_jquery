<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <table class="products">
      <thead>
        <tr>
          <th>
            <input class="selection" type="checkbox" />
          </th>
          <th class="sku">SKU</th>
          <th class="qty">Qty</th>
          <th class="price">Price</th>
          <th class="actions">
            <a class="remove-action" href="#">Remove selected</a>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr class="product">
          <td>
            <input class="selection" type="checkbox" />
          </td>
          <td class="sku">X_Y_Z</td>
          <td class="qty">1</td>
          <td class="price">125,00</td>
          <td class="actions">
            <a class="remove-action" href="#">Remove</a>
          </td>
        </tr>
        <tr class="product">
          <td>
            <input class="selection" type="checkbox" />
          </td>
          <td class="sku">X_Y_Z</td>
          <td class="qty">1</td>
          <td class="price">125,00</td>
          <td class="actions">
            <a class="remove-action" href="#">Remove</a>
          </td>
        </tr>
        <tr class="product">
          <td>
            <input class="selection" type="checkbox" />
          </td>
          <td class="sku">X_Y_A</td>
          <td class="qty">2</td>
          <td class="price">125,00</td>
          <td class="actions">
            <a class="remove-action" href="#">Remove</a>
          </td>
        </tr>
        <tr class="product">
          <td>
            <input class="selection" type="checkbox" />
          </td>
          <td class="sku">X_Y_B</td>
          <td class="qty">1</td>
          <td class="price">152,00</td>
          <td class="actions">
            <a class="remove-action" href="#">Remove</a>
          </td>
        </tr>
        <tr class="product">
          <td>
            <input class="selection" type="checkbox" />
          </td>
          <td class="sku">X_Z_Z</td>
          <td class="qty">1</td>
          <td class="price">125,00</td>
          <td class="actions">
            <a class="remove-action" href="#">Remove</a>
          </td>
        </tr>
      </tbody>
    </table>


    <script type="text/javascript">
      $( document ).ready(function() {
        $('thead .selection').click(function(){
          $('.selection').prop( 'checked', this.checked );
        });

        // better separate the two different clicks on "remove action" elements
        // to avoid ugly conditions
        $('thead .remove-action').click(function(){
          // parents => search depth in the parents, not just at first level.
          $('.selection:checked').parents('.product').remove();
          // it will be included the check input of the thead too, which is useless
          // ofc: checkbox input in the <thead> will NOT be deleted

          // this works too but less aesthetic that the first
          // $(".product .selection:checked").parent().parent().remove();
        });

        $('.product .remove-action').click(function() {
          $(this).closest('.product').remove();
        });
      });
    </script>
  </body>
</html>
